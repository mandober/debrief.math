# Monad

## Kleisli composition I

```hs
(>=>) :: (a -> m b) -> (b -> m c) -> (a -> m c)
f >=> g = \ a -> f a >>= \ b -> g b

(<=<) :: (b -> m c) -> (a -> m b) -> (a -> m c)
(<=<) = flip (>=>)
```

```
a ● ──────────→ ● m a
  │⟍            │
  │  ⟍          │
  │    ⟍        │
  │      ⟍      │
  │        ⟍    │
  ↓          ↘  ↓
b ● ──────────→ ● m b
  │⟍            │
  │  ⟍          │
  │    ⟍        │
  │      ⟍      │
  │        ⟍    │
  ↓          ↘  ↓
c ● ──────────→ ● m c
```



## Kleisli composition II

```
m c ● ←────────── ● c

      ⟍           │ ⟍
        ⟍         │   ⟍
          ⟍       │     ⟍
            ⟍     │       ⟍
              ⟍   │         ⟍
                ⟍ │           ⟍
              m b ● ←────────── ● b
                    ⟍           │ ⟍
                      ⟍         │   ⟍
                        ⟍       │     ⟍
                          ⟍     │       ⟍
                            ⟍   │         ⟍
                              ⟍ │           ⟍
                            m c ● ←────────── ● c


```



## Kleisli composition

```

m a ● ←────────── ● a
      ⟍           │ ⟍
        ⟍         │   ⟍
          ⟍       │     ⟍
            ⟍     │       ⟍
              ⟍   │         ⟍
                ⟍ │           ⟍
              m b ● ←────────── ● b
                    ⟍           │ ⟍
                      ⟍         │   ⟍
                        ⟍       │     ⟍
                          ⟍     │       ⟍
                            ⟍   │         ⟍
                              ⟍ │           ⟍
                            m c ● ←────────── ● c


```



## Monad

```
a             b             c             d
● ─────────── ● ─────────── ● ─────────── ●
  ⟍           │ ⟍           │ ⟍           │ ⟍
    ⟍         │   ⟍         │   ⟍         │   ⟍
      ⟍       │     ⟍       │     ⟍       │     ⟍
        ⟍     │       ⟍     │       ⟍     │       ⟍
          ⟍   │         ⟍   │         ⟍   │         ⟍
            ⟍ │           ⟍ │           ⟍ │           ⟍
              ● ─────────── ● ─────────── ● ─────────── ●
              m b           m c           m d           m e
```
